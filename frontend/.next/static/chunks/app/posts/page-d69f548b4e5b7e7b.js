(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[991],{5170:function(e,s,t){Promise.resolve().then(t.bind(t,8956))},8956:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return c}});var a=t(8450),n=t(3936),l=t(138),r=t(3600);async function i(e,s,t,a,n){let l=await fetch("".concat("http://localhost:8000","/api/posts/generate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({articles:e,topic:s,llmModel:t,sessionId:a,newsWorkflowId:n})});if(!l.ok){var r;throw Error((null===(r=(await l.json()).detail)||void 0===r?void 0:r.message)||"Failed to generate posts")}return l.json()}function c(){let e=(0,l.useRouter)(),[s,t]=(0,n.useState)(!0),[c,o]=(0,n.useState)(null),[d,x]=(0,n.useState)(null),[m,h]=(0,n.useState)([]),[u,p]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=sessionStorage.getItem("postsData");if(!e){o("No articles data found. Please generate news first."),t(!1);return}try{let s=JSON.parse(e);p(s),v(s)}catch(e){o("Invalid data format. Please try again."),t(!1)}sessionStorage.removeItem("postsData")},[]);let v=async e=>{t(!0),o(null),h([{step:"Analyzing articles",status:"processing",timestamp:new Date},{step:"Generating LinkedIn post",status:"pending",timestamp:new Date},{step:"Generating X post",status:"pending",timestamp:new Date}]);try{setTimeout(()=>{h(e=>[{...e[0],status:"completed"},{...e[1],status:"processing"},e[2]])},1e3);let s=await i(e.articles,e.topic,e.llmModel,e.sessionId,e.newsWorkflowId);x(s),h(e=>e.map(e=>({...e,status:"completed"})))}catch(e){o(e instanceof Error?e.message:"Failed to generate posts"),h(e=>e.map(e=>"processing"===e.status?{...e,status:"error"}:e))}finally{t(!1)}},j=()=>{e.push("/")},g=e=>{console.log("Edit ".concat(e," post"))};return s?(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)(r.G,{steps:m,currentStep:"Generating social media posts..."})}):c?(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsxs)("div",{className:"card border-red-200 bg-red-50",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Error generating posts"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-red-700",children:c})]})]}),(0,a.jsx)("button",{onClick:j,className:"btn-secondary",children:"Back to News"})]})}):d&&u?(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("button",{onClick:j,className:"inline-flex items-center text-secondary-600 hover:text-secondary-900 mb-4",children:[(0,a.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to News"]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Generated Posts"}),(0,a.jsxs)("p",{className:"text-lg text-secondary-600",children:["Review and edit your AI-generated social media posts for ",u.topic]})]}),(0,a.jsx)("div",{className:"card mb-8",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-sm text-secondary-600",children:["Generated from ",u.articles.length," articles • Processing time: ",d.processingTime.toFixed(2),"s • Model: ",d.llmModelUsed]})})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.posts.linkedin&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)("svg",{className:"w-6 h-6 mr-2 text-blue-700",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})}),"LinkedIn Post"]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-secondary-700",children:"Character Count"}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(d.posts.linkedin.charCount>2900?"text-red-600":d.posts.linkedin.charCount>2700?"text-yellow-600":"text-green-600"),children:[d.posts.linkedin.charCount," / 3000"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat(d.posts.linkedin.charCount>2900?"bg-red-600":d.posts.linkedin.charCount>2700?"bg-yellow-600":"bg-green-600"),style:{width:"".concat(Math.min(d.posts.linkedin.charCount/3e3*100,100),"%")}})})]}),(0,a.jsx)("div",{className:"prose prose-sm max-w-none mb-4",children:(0,a.jsx)("p",{className:"whitespace-pre-wrap text-gray-800",children:d.posts.linkedin.content})}),d.posts.linkedin.hashtags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:d.posts.linkedin.hashtags.map((e,s)=>(0,a.jsx)("span",{className:"text-blue-600 text-sm",children:e},s))}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>navigator.clipboard.writeText(d.posts.linkedin.content),className:"btn-secondary",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]}),(0,a.jsxs)("button",{onClick:()=>g("linkedin"),className:"btn-primary",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]})]})]})]}),d.posts.x&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[(0,a.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"X Post"]}),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-secondary-700",children:"Character Count"}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(d.posts.x.charCount>240?"text-red-600":d.posts.x.charCount>220?"text-yellow-600":"text-green-600"),children:[d.posts.x.charCount," / 250"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"h-2 rounded-full ".concat(d.posts.x.charCount>240?"bg-red-600":d.posts.x.charCount>220?"bg-yellow-600":"bg-green-600"),style:{width:"".concat(Math.min(d.posts.x.charCount/250*100,100),"%")}})})]}),(0,a.jsx)("div",{className:"prose prose-sm max-w-none mb-4",children:(0,a.jsx)("p",{className:"whitespace-pre-wrap text-gray-800",children:d.posts.x.content})}),d.posts.x.hashtags.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:d.posts.x.hashtags.map((e,s)=>(0,a.jsx)("span",{className:"text-blue-600 text-sm",children:e},s))}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,a.jsxs)("button",{onClick:()=>navigator.clipboard.writeText(d.posts.x.content),className:"btn-secondary",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]}),(0,a.jsxs)("button",{onClick:()=>g("x"),className:"btn-primary",children:[(0,a.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]})]})]})]})]})]}):null}},3600:function(e,s,t){"use strict";t.d(s,{G:function(){return n}});var a=t(8450);function n(e){let{steps:s=[],currentStep:t}=e;return(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center mb-6",children:[(0,a.jsx)("div",{className:"loading-spinner mr-3"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Processing your request..."})]}),(0,a.jsx)("div",{className:"space-y-3",children:s.length>0?s.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex-shrink-0",children:["completed"===e.status&&(0,a.jsx)("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),"processing"===e.status&&(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-primary-600 border-t-transparent rounded-full animate-spin"}),"pending"===e.status&&(0,a.jsx)("div",{className:"w-5 h-5 bg-secondary-300 rounded-full"}),"error"===e.status&&(0,a.jsx)("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm ".concat("completed"===e.status?"text-green-700":"processing"===e.status?"text-primary-700":"error"===e.status?"text-red-700":"text-secondary-500"),children:e.step}),e.message&&(0,a.jsx)("p",{className:"text-xs text-secondary-500 mt-1",children:e.message})]})]},s)):(0,a.jsx)("div",{className:"text-center py-4",children:(0,a.jsx)("p",{className:"text-secondary-600",children:t})})}),(0,a.jsx)("div",{className:"mt-6 bg-secondary-50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("svg",{className:"h-5 w-5 text-secondary-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,a.jsx)("div",{className:"ml-3",children:(0,a.jsx)("p",{className:"text-sm text-secondary-700",children:"This may take 15-30 seconds depending on the complexity of your request."})})]})})]})}},138:function(e,s,t){"use strict";var a=t(907);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[255,178,744],function(){return e(e.s=5170)}),_N_E=e.O()}]);